### 内存模型\(物理内存模型\)

在多处理器系统中，处理器通常有多级缓存，因为这些缓存离处理器更近并且可以存储一部分数据，所以缓存可以改善处理器获取数据的速度和减少对共享内存数据总线的占用。缓存虽然能极大的提高性能，但是同时也带来了诸多挑战。例如，当两个处理器同时操作同一个内存地址的时候，该如何处理？这两个处理器在什么条件下才能看到相同的值？![](/assets/20180413152927001.png)**对于处理器而言，一个内存模型就是定义一些充分必要的规范，这些规范使得其他处理器对内存的写操作对当前处理器可见，或者当前处理器的写操作对其他处理器可见**

### JAVA内存模型\(JMM\)

简单的讲，java内存模型指的就是一套规范，现在最新的规范为JSR-133。这套规范包含：

* 线程之间如何通过内存通信
* 线程之间通过什么方式通信才合法，才能得到期望的结果

在编译器各种优化及多种类型的微架构平台上，Java语言规范制定者试图创建一个虚拟的概念并传递到Java程序员，让他们能够在这个虚拟的概念上写出线程安全的程序来，而编译器实现者会根据Java语言规范中的各种约束在不同的平台上达到Java程序员所需要的线程安全这个目的

![](/assets/20180413143521001.png)

为了方便线程之间的通信，java 提供了 volatile, synchronized, final 三个关键字供我们使用





参考资料

【全面理解Java内存模型】https://blog.csdn.net/suifeng3051/article/details/52611310

