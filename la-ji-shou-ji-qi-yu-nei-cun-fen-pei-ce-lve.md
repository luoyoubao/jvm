### 垃圾收集器与内存分配策略

对象主要分配在新生代的Eden区上，如果启动了本地线程分配缓冲，将按线程优先在TLAB上分配

**1.对象优先在Eden分配** 大多数情况下，对象在新生代Eden区中分配，当Eden区没有足够的空间进行分配时，虚拟机将发起一次Minor GC

**2.大对象直接进入老年代**

* 所谓大对象是指需要大量连续内存空间的JAVA对象\(如长字符串和数组\)
* 经常出现大对象容易导致内存还有不少空间时就提前出发垃圾收集以获取足够的连续空间存放数据

**3.长期存活的对象将进入老年代**  
![](/assets/201708022223.png)

** 动态对象年龄判定**

![](/assets/201708022225.png)

** 空间分配担保**

![](/assets/20170802227.png)

