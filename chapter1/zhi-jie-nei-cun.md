### 本地内存/直接内存\(Direct Memory\)

直接内存并不是虚拟机运行时数据区的一部分，也不是Java虚拟机规范中定义的内存区域，但是这部分内存也被频繁的使用，而且也可能导致OutOfMemoryError异常出现

#### 特性

* 本机直接内存的分配不受Java堆大小的限制，仅受本机总内存大小以及处理器寻址空间的限制

说明：在JDK 1.4 中新加入了NIO（New Input/Output）类，引入了一种基于通道（Channel）与缓冲区（Buffer）的I/O 方式，它可以使用Native 函数库直接分配堆外内存，然后通过一个存储在Java 堆里面的DirectByteBuffer 对象作为这块内存的引用进行操作。这样能在一些场景中显著提高性能，因为避免了在Java 堆和Native 堆中来回复制数据。

### 直接内存（堆外内存）与堆内存比较

* 直接内存申请空间耗费更高的性能，当频繁申请到一定量时尤为明显；
* 直接内存IO读写的性能要优于普通的堆内存，在多次读写操作的情况下差异明显；

### 堆外内存

![](/assets/201708022310.png)

